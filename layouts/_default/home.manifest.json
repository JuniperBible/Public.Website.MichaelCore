{{- partial "michael/icons.html" . -}}
{{- $icons := .Scratch.Get "michael-icons" -}}
{{- $basePath := .Site.Params.michael.basePath | default "/bible" -}}
{
  "name": {{ .Site.Title | jsonify }},
  "short_name": {{ .Site.Title | jsonify }},
  "description": {{ (.Site.Params.description | default "Offline Bible reading and comparison") | jsonify }},
  "start_url": "{{ $basePath }}/",
  "scope": "/",
  "display": "standalone",
  "display_override": ["standalone", "minimal-ui"],
  "orientation": "any",
  "theme_color": "#1a3230",
  "background_color": "#e6ddc0",
  "lang": {{ .Site.Language.Lang | jsonify }},
  "dir": "ltr",
  "categories": ["books", "education", "lifestyle"],
  "launch_handler": {
    "client_mode": "navigate-existing"
  },
  "handle_links": "preferred",
  "window": {
    "default_width": 800,
    "default_height": 1000,
    "resizable": true
  },
  "icons": [
    {
      "src": {{ $icons.icon192 | jsonify }},
      "sizes": "192x192",
      "type": "image/png",
      "purpose": "any"
    },
    {
      "src": {{ $icons.icon512 | jsonify }},
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "any"
    },
    {
      "src": {{ $icons.maskable512 | jsonify }},
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "maskable"
    }
  ],
  "shortcuts": [
    {
      "name": "Read Bible",
      "short_name": "Read",
      "url": "{{ $basePath }}/",
      "description": "Open Bible reader"
    },
    {
      "name": "Compare Translations",
      "short_name": "Compare",
      "url": "{{ $basePath }}/?mode=compare",
      "description": "Compare Bible translations side by side"
    }
  ]
}
