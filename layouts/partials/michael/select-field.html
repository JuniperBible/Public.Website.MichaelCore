{{/*
  select-field.html - Custom select dropdown component

  Usage:
    {{ partial "michael/select-field.html" (dict
      "id" "language-select"
      "label" "Choose Language"
      "options" (slice
        (dict "value" "en" "text" "English" "selected" true)
        (dict "value" "es" "text" "Spanish")
        (dict "value" "fr" "text" "French")
      )
      "onchange" "handleLanguageChange(this)"
      "disabled" false
    ) }}

  Parameters:
    - id (string, required): Element ID for the select
    - label (string, required): Label text for accessibility
    - options (slice, required): Array of option dicts with:
        - value (string, required): Option value
        - text (string, required): Display text
        - selected (bool, optional): Whether option is selected
    - onchange (string, optional): JavaScript onchange handler
    - disabled (bool, optional): Whether select is disabled
*/}}

<label for="{{ .id }}" class="visually-hidden">{{ .label }}</label>
<select
  id="{{ .id }}"
  name="{{ .id }}"
  {{ with .onchange }}onchange="{{ . }}"{{ end }}
  {{ if .disabled }}disabled{{ end }}
>
  {{ range .options }}
    <option
      value="{{ .value }}"
      {{ if .selected }}selected{{ end }}
    >
      {{ .text }}
    </option>
  {{ end }}
</select>
