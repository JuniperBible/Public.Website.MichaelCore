{{/*
  Partial: pwa-install-banner.html
  Purpose: PWA install prompt banner

  Shows a non-intrusive banner encouraging users to install the app.
  Includes iOS-specific instructions for manual installation.
*/}}

{{/* Standard install banner (Chrome, Edge, etc.) */}}
{{- $icons := .Scratch.Get "michael-icons" -}}
<div id="pwa-install-banner" class="pwa-install-banner hidden" role="banner" aria-hidden="true" data-pwa-banner>
  <div class="pwa-install-content">
    <img src="{{ $icons.icon192 }}" alt="" class="pwa-install-icon" width="48" height="48" role="presentation">
    <div class="pwa-install-text">
      <strong>{{ i18n "installApp" | default (printf "Install %s" .Site.Title) }}</strong>
      <span>{{ i18n "installSubtext" | default "Read offline, anytime" }}</span>
    </div>
  </div>
  <div class="pwa-install-actions">
    <button id="pwa-install-btn" type="button" class="pwa-install-button">
      {{ i18n "install" | default "Install" }}
    </button>
    <button id="pwa-install-dismiss" type="button" class="pwa-install-dismiss" aria-label="Dismiss install banner">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
</div>

{{/* iOS instructions banner */}}
<div id="pwa-ios-instructions" class="pwa-ios-instructions hidden" role="banner" aria-hidden="true" data-pwa-banner>
  <div class="pwa-install-content">
    <img src="{{ $icons.icon192 }}" alt="" class="pwa-install-icon" width="48" height="48" role="presentation">
    <div class="pwa-install-text">
      <strong>{{ i18n "installApp" | default (printf "Install %s" .Site.Title) }}</strong>
      <span>{{ i18n "iosInstallInstructions" | default "Tap Share then \"Add to Home Screen\"" }}</span>
    </div>
  </div>
  <button id="pwa-ios-dismiss" type="button" class="pwa-install-dismiss" aria-label="Dismiss">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

{{ $pwaInstall := resources.Get "js/michael/pwa-install.js" }}
{{ if $pwaInstall }}<script src="{{ $pwaInstall.RelPermalink }}" defer></script>{{ end }}
