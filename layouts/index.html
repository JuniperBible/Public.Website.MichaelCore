{{ define "main" }}
<main class="container" style="padding: var(--pad-3) var(--pad-2);">
  <div class="panel">
    <header class="page-header">
      <h1>{{ .Site.Title }}</h1>
      {{ with .Site.Params.description }}<p>{{ . }}</p>{{ end }}
    </header>

    {{/* Try /bible first (standalone), then /religion/bible (module) */}}
    {{ $biblesPage := .Site.GetPage "/bible" }}
    {{ if not $biblesPage }}{{ $biblesPage = .Site.GetPage "/religion/bible" }}{{ end }}

    {{ with $biblesPage }}
    <section>
      <h2>Bible Translations</h2>
      <div class="grid-2">
        {{ range .Site.Data.bibles.bibles }}
        <a href="{{ printf "/bible/%s/" .id | relLangURL }}" class="card">
          <h3 class="card__title">{{ .title }}</h3>
          <p class="card__meta">{{ .abbrev }}</p>
        </a>
        {{ end }}
      </div>
      <nav class="actions">
        <a href="{{ .RelPermalink }}" class="btn btn--primary">View All Bibles</a>
      </nav>
    </section>
    {{ end }}
  </div>
</main>
{{ end }}
